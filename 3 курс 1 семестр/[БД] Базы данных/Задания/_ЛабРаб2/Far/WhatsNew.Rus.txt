
                    Файловый и архивный менеджер FAR
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
                     Что нового в последней версии
                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

[!] Важное замечание
[+] Нововведение
[-] Исправлена ошибка
[*] Изменения

───────────────────────────────────────────────────────────────────────────
FAR 1.70 beta 4 (build 1282) (13.03.2002)
───────────────────────────────────────────────────────────────────────────
Основное
~~~~~~~~
[!] Полная версия FAR, включая номер сборки, указывается на стартовой
    странице системы помощи.

[!] Изменения и уточнения в Plugin API подробнее см. в
    PlugDoc.rar::WhatsNew.Rus.txt

[+] ArcSupport[.Rus].txt - настройка архиваторов для работы с FAR Manager

[!] ИЗМЕНИЛИСЬ ПРАВИЛА ПРИ ОБРАБОТКЕ СПЕЦИАЛЬНЫХ МЕТАСИМВОЛОВ (!.!, !\
    и другие), которые используются, например, в ассоциациях - FAR
    ТЕПЕРЬ НИКАК НЕ ОБРАБАТЫВАЕТ КАВЫЧКИ ПРИ РАБОТЕ С ТАКИМИ
    МЕТАСИМВОЛАМИ И НЕ ДОБАВЛЯЕТ ПРИ ЭТОМ НОВЫХ КАВЫЧЕК, КАК ЭТО БЫЛО
    РАНЬШЕ. ДЛЯ НОРМАЛЬНОГО ФУНКЦИОНИРОВАНИЯ СИСТЕМЫ НЕОБХОДИМО
    ПЕРЕСМОТРЕТЬ ВСЕ МЕСТА, ГДЕ ИСПОЛЬЗУЮТСЯ ДАННЫЕ МЕТАСИМВОЛЫ И ТАМ,
    ГДЕ ЭТО НУЖНО, ПРОСТАВИТЬ КАВЫЧКИ (например, вместо !.! теперь
    следует писать "!.!").

[!] С учетом изменений работы с раскрасками файлов вам понадобится создать
    две новые группы раскраски (по умолчанию, если группы раскраски
    отсутствуют в реестре вообще, они создаются сами), чтобы панели
    некоторых плагинов выглядели более прилично:
    a) маска "..", атрибут включения "[x] Папка" - настройки по умолчанию
       (т.е. цвет обычных файлов)
    b) "[ ] Совпадение с маской (масками)" - т.е. анализ только по атрибутам,
       атрибут включения "[x] Папка" - настройки как для обычных папок.
       Эта группа должна быть одной из последних, если не самой последней.

[!] Ключ реестра, ответственный за политику [HKCU\Software\Far\Policies],
    теперь также обрабатывается для ветки реестра HKEY_LOCAL_MACHINE
    (подробнее см. TechInfo#4 и TechInfo#30)


Система
~~~~~~~
[*] Отделение консоли FAR от не интерактивного процесса - по умолчанию
    назначается "CtrlAltTab"

[+] Новое правило (TechInfo#34) позволяет задавать набор
    символов, присутствие которых в именах файлов/папок заставит FAR
    Manager заключать такие имена в кавычки.

[+] В группах сортировки и в раскраске файлов можно применять переменную
    окружения %PATHEXT%.

[-] В третьей бете не всегда сохранялись файловые атрибуты для существующего
    файла Tree.Far при обновлении дерева.

[-] Некорректно работала смена порядка сортировки из плагина.

[!] При удалении символической связи, который ссылается на непустую папку,
    не выдается лишнее подтверждение.

[*] Если пользователь кликнул клавишей мыши вне диалога, то:
    - левая клавиша рассматривается как нажатие клавиши Esc;
    - правая клавиша рассматривается как нажатие клавиши Enter;
    - прочие клавиши (для многокнопочной мыши) не имеют никакого эффекта.

[*] При невозможности зайти в папку на панели плагина (например, если
    сетевая папка недоступна) курсор остается на месте, а не прыгает в
    начало панели.

[*] При попытке зайти в недоступную папку в файловой системе NTFS
    выдается сообщение об ошибке и курсор остается на месте. Ранее в этой
    ситуации курсор молча прыгал на начало панели.

[!] Изменения в поддержке колеса мыши в Windows 2000 (подробнее см.
    TechInfo#33). Параметр "MouseWheelDelta" переименован в "MsWheelDelta" и
    задает теперь смещение для прокрутки в панелях.

[-] Некорректное начальное позиционирование элементов при показе списка
    истории или комбинированного списка в диалогах.

[*] При отключенной опции "Автозавершение в строках ввода" для автозавершения
    строк можно воспользоваться комбинацией клавиш Ctrl-End.

[+] Теперь view/edit history можно вызывать и из редактора и вьювера
    (нажатием Alt-F11).

[!] Нажатие Ctrl-F10 в редакторе или вьюере теперь позиционирует курсор
    в панелях на текущем файле без выхода из редактора/вьювера.
    Для варианта "Выход с позиционированием на текущий файл" см. макрокоманду
    Addons\Macros\CtrlF10.reg

[*] Теперь можно использовать F6 (переключение между редактированием и
    просмотром) в редакторе и вьюере, открытых из Find files (Alt-F7).

[*] Нажатие Shift-F10 сразу после запуска FAR показывает главное
    меню для активной панели. Ранее всегда показывалось меню для левой
    панели.

[*] Теперь при перемещении курсора в списке по Alt-F7 автоматически
    пропускаются пустые строки (разделители между папками).

[*] Убраны задержки при перемещении курсора в списке по Alt-F7 после того,
    как поиск завершен.

[+] Новое поведение для Alt-F9 (изменение размеров окна) - см. TechInfo#38

[-] Windows 2000: при удалении символической связи не обновлялась файловая
    панель.

[!] Количество пунктов истории для строк ввода в диалогах увеличено до 64.
    Неиспользуемые пункты удаляются из реестра.

[+] Shift-Del в открытой истории строки ввода диалога удаляет текущий пункт,
    если он не отмечен (при помощи Ins).

[+] Комбинация Alt-Shift-F9 в панелях:
    - для плагиновых панелей вызывается настройка параметров конкретного
      плагина.
    - для обычных панелей вызывает список плагинов для настройки (аналогично
      "Параметры|Параметры внешних модулей")

[+] Добавлена возможность создания нескольких папок за один раз.
    Подробнее см. помощь на тему "Создание папки".

[-] Не обрабатывались файлы, у которых двойные кавычки стояли внутри имени,
    например, на действие
    Shift-F4 "foo".txt Enter
    FAR рапортовал об ошибке.

[+] Клавиша F4 в списке "Параметры внешних модулей" позволяет назначить
    горячие клавиши для пунктов этого меню, что упрощает их последующий
    вызов.

[-] Windows NT4: при запуске некоторых PE-приложений происходила блокировка
    мыши.

[*] Если папка является символьной связью, то в статусной строке вместо
    "<Папка>" выводится "<Связь>".

[*] Уточнения информации в TechInfo#10.

[+] Новое правило (TechInfo#39), с помощью которого можно корректировать
    порядок сортировки имен файлов в разных локалях.

[*] Windows 2000: скорректировано поведение Ctrl-Alt-F - для "reparse point"
    (символические связи и монтированные диски) в командную строку
    сбрасывается истинный путь к папке.

[-] Команды вставки пути (Ctrl-], Ctrl-[, Ctrl-Shift-] и Ctrl-Shift-[) всегда
    вставляли строку в OEM-кодировке.

[!] Теперь при погашенных панелях работают:
    CtrlG,CtrlF,CtrlAltF,Ctrl[,Ctrl],CtrlShift[,CtrlShift]

[+] Расширены и уточнены клавиши вставки путей и файлов для панелей:
    * Ctrl-Alt-[ - вставить сетевое (UNC) путь из левой панели
    * Ctrl-Alt-] - вставить сетевое (UNC) путь из правой панели
    * Alt-Shift-[ - вставить сетевое (UNC) путь из активной панели
    * Alt-Shift-] - вставить сетевое (UNC) путь из пассивной панели

[+] Комбинации клавиш для копирования выделенных файлов на активной панели:
    * Alt-Shift-Ins - полные имена помеченных файлов
    * Ctrl-Alt-Ins - сетевые (UNC) имена помеченных файлов

[!] Комбинации клавиш, каким-либо образом связанные с UNC-именами, работают
    по следующим правилам:
    * для сетевых дисков - сетевое (UNC) имя файлового объекта;
    * для локальных дисков - полное имя с учетом символических связей.

[+] После старта FAR Manager выставляет следующие переменные среды, доступные
    для дочерних процессов:
      %FARLANG% - Текущий язык оболочки
      %FARUSER% - Текущий пользователь (если используется ключ /u)

[+] Shift-F1 в любом меню, наравне с F1, может вызывать систему помощи
    (если в качестве горячей клавиши назначили F1, то, естественно помощь
    вызвать не получится)

[+] Клавиша F5 в меню выбора группы раскраски файлов позволяет скопировать
    группу.

[+] Клавиши Ctrl-Up и Ctrl-Down в списке групп раскраски файлов позволяют
    передвигать группы к началу или концу списка.

[+] Shift-Enter в панелях на папках запускает Проводник, показывая
    содержимое данной папки.

[+] Shift-Enter в меню выбора дисков запускает Проводник, показывая
    содержимое корневой папки указанного диска.

[-] Дублирование записей в кэше плагинов, если FAR был запущен с
    указанием короткого пути.

[-] Фильтр (CtrlI) файловой панели теперь правильно работает с
    файлами, имеющими расширение типа: "*.aaa,bbb,ccc,ddd,eee,fff"

[+] В некоторых ситуациях (поиск файлов, пометка файлов, ассоциации файлов,
    группы сортировки и раскраска файлов) можно использовать маски исключения.
    Маска исключения есть одна или несколько масок файлов, которой не должны
    соответствовать имена требуемых файлов, она отделяется от основной маски
    символом '|'. Можно использовать в качестве разделителя масок файлов
    символ ';'. Можно брать каждую маску в кавычки, например, если маска
    содержит в себе символ-разделитель. Маски файлов теперь проверяются на
    корректность.

[!] В связи с тем, что изменилась процедура обработки масок файлов, папка
    с именем ".." раскрашивается теперь так же как и прочие папки.  Если
    вам это не нравится и вы хотите  вернуться к старому  порядку  раскраски
    "..", то вам потребуется изменить в настройках "раскраски файлов" маску
    для папок с "*.*" на "*.*|..".
    Если вы устанавливаете FAR впервые, то это делать не нужно, т.к. в реестр
    будет автоматически записано это значение.

[+] Запрашивается подтверждение перед очисткой историй (команд, просмотра,
    переходов и в диалогах).

[-] При первом запуске FAR в панелях не работала клавиша Gray* до тех пор,
    пока не нажали курсорные клавиши.

[-] При быстром поиске комбинация клавиш "AltShift-" искала файлы
    начинающиеся не с '_', а с '-'.

[*] Часы могут иметь разные цвета в панелях, редакторе и вьювере.

[!] Имена файлов из открытых плагином редактора или программы просмотра
    теперь добавляются в общую историю просмотра (Alt-F11).
    Проверить можно на примере view: и edit: (плагин FARCmds)
    Авторы плагинов могут управлять подобным поведением (см. документацию
    по написанию плагинов).

[!] Добавлен ключ командной строки "/x", позволяющий отключить обработку
    исключений. В связи с чем изменено правило TechInfo#17.

[+] Нажатие средней кнопки мыши в панелях аналогично нажатию клавиши Enter.

[+] Обновленная команда поиска файлов (Alt-F7) в панелях.

[+] Поиск файлов - добавлены возможности при поиске в архивах:
    1) Просматривать файлы, найденные в архиве и находящиеся в списке,
       по F3 и F4;
    2) Скидывать список архивов, которые содержат найденные файлы на
       временную панель.
    3) Производить поиск в архивах на панели плагина, к примеру на
       временной панели, если панель создавалась с флагом OPIF_REALNAMES.

[*] Изменен внешний вид "дерева".

[+] FAR самостоятельно обрабатывает команду CLS операционной системы.

[-] После Ctrl-G затиралась последняя строка вывода.

[+] Новое правило TechInfo#40, позволяющее задавать тип локали, используемый
    для сортировки имен файлов.

[-] Длинное системное сообщение об ошибке обрезалось по правому краю.

[*] Временные файлы/папки создаются в верхнем регистре.

[-] Во время ввода символа по коду (Alt-клавиша на цифровой клавиатуре)
    не учитывался тот факт, что нажали цифровую клавишу и удерживаем.

[+] Дополнительные значения в "политике" (TechInfo#4), позволяющие
    отключать создание макрокоманд, игнорировать ключ '/p' командной строки
    и путь к персональным плагинам.

[*] Можно исключать анализ масок для конкретной группы раскраски.

[*] Клавиша Tab в главном меню (F9) осуществляет переход на меню пассивной
    панели ("Левая" или "Правая".) кроме случая, когда меню пассивной панели
    является текущим (активным). В последнем случае осуществляется переход
    на меню активной панели.

[-] Не восстанавливался курсор после запуска некоторых программ, которые
    гасят курсор и не восстанавливают его после своего завершения (пример:
    mailview с PlugRinG`а).

[+] CTRL+F в строках редактирования в диалогах и в командной строке
    вставляет имя текущего файла с пассивной панели.

[+] Новое правило TechInfo#41, позволяющее настроить поведение
    позиционирования курсора в списке истории строк ввода в диалогах.

[!] В меню "История команд" (Alt-F8), "История просмотра" (Alt-F11) и
    "История папок" (Alt-F12) появилась прокрутка от начала к концу
    меню, когда вы пытаетесь подняться выше первого пункта, и наоборот.

[+] В меню "Ссылки на папки" ("Folder shortcuts") добавлены горячие клавиши
    на цифры.

[+] В команде "Копирование текста с экрана (Alt-Ins)" добавлено управление:
    Ctrl-Shift-Left/Ctrl-Shift-Right - перемещение с выделением на 10 позиций
    по горизонтали,
    Ctrl-Shift-Up/Ctrl-Shift-Down - перемещение с выделением на 5 позиций
    по вертикали.

[!] Пункты настроек "Системные параметры|Подставлять префиксы плагинов"
    и "Настройки интерфейса|Показывать полосу прокрутки в меню"
    перемещены в TechInfo #42 и #43 соответственно.

[!] Параметр показа времени копирования, описанный в TechInfo#26,
    доступен в настройках "Настройки интерфейса|Показывать
    информацию о времени копирования". Но в диалоге вы можете
    выставить только 2 значения - показывать информацию
    везде или отключить режим отображения.

[+] Новая опция "Настройки панели|Отключать автообновление панелей",
    позволяющая управлять механизмом автоматического обновления панелей
    при изменении файловой системы.

[*] Если при завершении работы FAR Manager одна из панелей
    была плагиновая (например, MultiArc), то при следующем запуске
    FAR Manager корректно выставляет папку с хост-файлом и
    позиционирует курсор на этом файле.

[!] Поведение средней кнопки мыши в панелях теперь настраивается.
    "Настройки интерфейса"|"В панелях средняя кнопка равна Enter"

[+] Панель дерева папок (Ctrl-T) имеет свою полосу функциональных клавиш.

[-] При нажатии F1 в панели дерева папок показывалась не та тема помощи.

[+] Новое правило TechInfo#45, позволяющее восстанавливать кодовую страницу
    консольного окна FAR Manager после отработки внешних программ (которые
    не восстанавливают предыдущее значение кодовой страницы после своего
    завершения).

[+] Добавлена опция "Обновлять файл описаний с атрибутом "Только для чтения"
    в диалоге настройки файловых описаний.

[+] Новое правило (TechInfo#46) позволяющее в Windows NT (и выше) при
    включенной опции "Системные параметры|Автозапись конфигурации" сохранять
    настройки после того, как пользователь нажимает на кнопку закрытия
    ([x]) консольного окна FAR Manager.

[+] Изменение в правиле TechInfo#25, позволяющее также настраивать размеры
    курсора для режима замены.

[-] В Windows 9x/Me после команды "cd //host/share" заголовок панели имел
    вид "C:\\host\share" (к пути перехода добавлялась буква текущего диска)


Информационная панель
~~~~~~~~~~~~~~~~~~~~~
[*] Теперь можно прокручивать мышью файл описаний, отображаемый в
    панели информации.

[*] Теперь в панели информации показывается своя строка функциональных
    клавиш.

[-] При нажатии F1 в панели информации показывалась не та тема помощи.

[-] При попытке удалить файл описаний, который в данный момент отображался
    на панели информации, выдавалась ошибка Sharing violation.

[-] Нажатие F4 в панели информации в том случае, когда строка Folder
    description files пуста, приводило к аварийному завершению работы с FAR.

[-] Теперь при нажатии F4 в панели информации, если файл описаний не
    существует, при определении имени создаваемого файла описаний
    игнорируются имена, содержащие символы * и ?.

[-] После изменения настройки Folder description files не обновлялась
    панель информации, если она была видна на экране.

[+] Информационная панель имеет свою полосу функциональных клавиш.


QuickView
~~~~~~~~~
[*] Теперь в панели быстрого просмотра показывается своя строка
    функциональных клавиш.

[-] При нажатии F1 в панели быстрого просмотра показывалась не та тема
    помощи.

[-] Меню смены диска, вызванное из панели быстрого просмотра, не
    закрывалось при нажатии Esc.

[*] Для монтированных дисков указывается что это именно монтированный том
    и, по возможности (если имя диска есть), будет показана буква диска.


Файловые атрибуты
~~~~~~~~~~~~~~~~~
[-] Проблемы с выставлением даты/времени файлов и атрибутом ReadOnly.

[+] Двойной клик мыши на метках "Modification", "Creation" или "Last access"
    выставляет соответствующие дату и время в текущее значение. Двойной клик
    мыши в полях ввода для даты/времени выставляет соответствующий
    компонент даты или времени в текущее значение.

[+] F4 в панели дерева папок также вызывает диалог установки атрибутов.

[!] Уточнено правило TechInfo#15 для большей совместимости с FAR 1.6x.

[-] Атрибут Encrypted не ставился для файлов с русскими буквами.


Копирование/Переименование
~~~~~~~~~~~~~~~~~~~~~~~~~~
[-] При подсчете времени копирования не учитывается время показа диалогов.

[*] Для операции перемещения (Move) файлов/папок в пределах текущего
    диска не происходит подсчет общего размера при включенной опции
    "[x] Показывать общий индикатор копирования"
    ("[x] Show total copy progress indicator")

[+] Windows 2000: создание символических связей для папок (Alt-F6),
    в т.ч. из панели дерева папок.

[+] Мультикопирование. В строке назначения можно указывать несколько
    путей/имен, разделенных символом ';' или ','.
    Например, "c:\foo\;d:\foo2".

[-] Проблемы при создании символических связей в Windows 2000.

[-] Рекурсивное копирование связанных папок (саму в себя).

[+] Shift-F10 позволяет показать дерево папок для диска, введенного
    в строке ввода.

[+] Windows NT/2000: для файловых объектов, имеющих несколько потоков
    (при отключенной опции "[ ] Использовать системную функцию копирования")
    выдается предупреждение о возможности потери дополнительных потоков.
    Также предупреждение выдается, если попытаться скопировать такой
    объект на том, не поддерживающий многопоточность.

[-] Windows2000/XP/NTFS5: при копировании/переносе зашифрованной папки на
    файловую систему не поддерживающую шифрование, не учитывались
    возможности места назначения.


Файловые ассоциации
~~~~~~~~~~~~~~~~~~~
[-] Ассоциация "!@AFQ!" в корне любого диска создавала список, в котором в
    именах файлов подряд шли 2 слеша, например "E:\\file.txt".

[-] В ассоциациях с IF EXIST неправильно обрабатывался символ @.

[-] В ассоциациях с IF EXIST неправильно обрабатывались кавычки в
    середине имени файла (C:\1\"test 2.ttt").

[+] Новые метасимволы, обозначающие расширение файла:
     "!`"  - длинное расширение файла;
     "!`~" - короткое расширение файла.
    Например, для файла "foo.ext" метасимвол "!`" вернет "ext".

[+] В ассоциациях файлов можно указывать команды альтернативного просмотра
    (Alt-F3), альтернативного редактора (Alt-F4) и команды для Ctrl-PgDn.

[*] Тема помощи разбита на 3 части:
     1. "Ассоциации файлов"
        Вводная часть. Общие сведения.
     2. "Изменение ассоциации файлов"
        Для диалога изменения параметров ассоциаций.
     3. "Метасимволы"
        Описание допустимых метасимволов
     Соответственно для меню выбора ассоциации и диалога изменения
     ассоциации используются свои собственные темы помощи.


Редактор
~~~~~~~~
[-] Некорректно описана в помощи функция для Shift-Enter.

[+] Ctrl-Shift-Enter - вставить полное имя редактируемого файла.

[-] Ввод кода символа (Ctrl-Q) не помечал текст как модифицированный.

[-] Ввод кода символа (Ctrl-Q) не помещал данные в буфер отката.

[-] XLat-трансляция не помещала данные в буфер отката.

[-] При автоотступе в начало строки при вставке фрагмента из буфера обмена
    вставлялись пробелы вместо табуляции.

[!] По умолчанию разрешено изменение файлов с атрибутом R/O и предупреждение
    не выводится (поведение как у FAR 1.65).

[+] Две опции из TechInfo (#19) вынесены в диалог настройки редактора:
    - Запретить изменение файла с атрибутом R/O
    - Предупреждать при открытии файла с атрибутом R/O

[+] Новое поведение для открытия уже открытого на редактирование файла.
    Возможны три варианта выбора - "Текущий", "Перегрузить" и "Новая копия".
    Также добавлена опция в диалог подтверждения, влияющая на открытие
    уже открытого (но не измененного) файла.
    (подробнее см. систему помощи).

[-] В залоченном редакторе (Ctrl-L) имелась возможность двигать выделенные
    поточные блоки (Alt-U/Alt-I).

[-] Исправлена ошибка, приводящая к изменению внешнего вида курсора
    в строках ввода и редакторе после запуска некоторых DOS-задач.
    Такой курсор выглядел в редакторе как будто стоял на одну строку
    выше, чем было на самом деле.

[-] В меню выбора таблицы (Shift-F8) выделялась строка с той таблицей,
    которая автоматически определилась при открытии файла, даже если
    текущая таблица была другой.

[+] Настройка для постоянных блоков в строках ввода.

[-] Не снималось выделение непостоянного блока, если пользователь кликнул
    клавишей мыши.

[-] При нажатии Ctrl-], Ctrl-[, Ctrl-Shift-] и Ctrl-Shift-[ всегда
    вставлялась строка в кодировке OEM.

[*] Размер буфера отмены действий (Undo) по умолчанию в редакторе увеличен
    в 32 раза (было 64 элементарных операций, стало 2048).

[+] Размер буфера отмены действий можно изменять (см. TechInfo#44).



Программа просмотра
~~~~~~~~~~~~~~~~~~~
[-] Теперь при прокрутке через скроллбар во встроенной программе
    просмотра не "рвутся" строки (позиционирование всегда происходит
    на границу строки).

[-] Иногда после открытия вьювера в кодировке Win в подписи к кнопке F8
    отображалось Win вместо DOS.

[*] Теперь во вьюере работают +/- после переключения по F6 в редактор и
    последующего переключения обратно.

[-] Неправильно устанавливалась позиция при щелчке на скроллбаре вьювера в
    очень больших файлах.

[!] Поскольку D является шестнадцатеричной цифрой, использование D для
    указания десятичного смещения в диалоге перехода более не
    поддерживается.

[+] Ctrl-Ins - копирование выделения (результатов поиска) в буфер обмена.



Система помощи
~~~~~~~~~~~~~~
[-] Исправлена ошибка при нажатии F5 при просмотре файла помощи, открытого
    из HLFViewer.

[*] Символ табуляции в файлах помощи преобразуется в пробелы. Размер табуляции
    можно задавать, используя специальную опцию ".Options TabSize=Размер"
    По умолчанию размер табуляции равен 8.

[+] Список помощи по внешним модулям (Shift-F2) сортируется в алфавитном
    порядке.

[*] Считать нажатие средней кнопки мыши за Enter.

[+] Двойной клик мыши в не прокручиваемой области окна помощи
    аналогичен нажатию клавиши F5


Пользовательское меню
~~~~~~~~~~~~~~~~~~~~~
[+] Добавлена обработка команд комментариев "rem" и "::", установленных
    вначале строки.

[-] Некорректно работало выравнивание указателя подменю.

[*] При показе заголовка обрабатываются макроподстановки.

[+] Курсорные клавиши Left/Right открывают или закрывают подменю

[*] При выполнении команды из меню предыдущее значение командной строки
    восстанавливается.


Макросы
~~~~~~~
[!] Информация про макросы (TechInfo#22) перенесена в документ
    "Macros[.Rus].txt"

[!] Исправлена ошибка для Win9X - Conagent.exe нажатие клавиши Left на
    дополнительной клавиатуре при включенном NumLock вставляет в буфер
    клавиатуры последовательность: Left Down, Shift Down, Shift Up, Left Up.
    Из-за чего невозможно было назначить Left в качестве макроклавиши.

[+] Новый атрибут макрокоманды "Отмечен блок/файлы".

[!] Новый диалог настройки дополнительных параметров макрокоманды.

[+] Новый раздел помощи для диалога настройки дополнительных параметров
    макрокоманды.

[+] Пара новых псевдо-клавиш "MsWheelDown" и "MsWheelUp".

[-] В панелях не работали макросы для клавиш Alt-Shift-цифра

[-] Макросы, созданные для области "Tree" записывались в область "Info".

[!] Макрокоманды "$Year", "$Month", "$Day", "$Hour", "$Min" и "$Sec" больше
    не поддерживаются и заменены на одну макрокоманду "$Date"

[+] Новая макрокоманда "$XLat" - вызывает функцию транслитерации. Например,
    макрокоманда:
      [HKEY_CURRENT_USER\Software\Far\KeyMacros\Dialog\ShiftBS]
      "Sequence"="CtrlShiftLeft $XLat CtrlRight"
      "DisableOutput"=dword:00000001
    будет работать всегда, независимо от того, какую клавишу назначили для
    транслитерации в строках ввода в диалогах.

[!] При считывании макросов из реестра игнорируются макропоследовательности,
    содержащие ошибки в названии клавиш.

[*] При исполнении макроса с выставленным флагом "Запретить на время
    выполнения вывод на экран" заголовок консоли не меняется.


Addons
~~~~~~
[+] Addons\Archivers\*.reg
    Настройки для разных архиваторов

[!] Addons\XLat\Russian\Qwerty.reg
    Уточнение таблиц перекодировки. Рекомендуется обновить реестр.

[+] Addons\Macros\WheelScreenSwitch.reg
    Пример использования колеса мыши с клавишей Shift для переключения
    между окнами.

[+] Addons\Macros\AltDown.reg
    Открыть комбобокс и историю (как будто нажали Ctrl-Down)

[+] Addons\Macros\ShiftBS.reg
    Преобразует слово перед курсором, использую функцию XLat

[*] Addons\Macros\ShiftF1.reg
    Изменен текст макроса с учетом возможностей плагина MultiArc

[+] Addons\Macros\SwitchMainLanguage.reg
    Быстрое переключение основного языка FAR Manager

[+] Addons\SetUp\*.reg
    Типовые настройки FAR Manager

[!] Упорядочены языковые таблицы Addons\Tables

[+] Addons\Tables\Slavic (CE)\Polish\Mazovia.reg
    Polish language table Mazovia (CP 896 - old DOS format)

[+] Addons\Tables\German\Mac.Ger.reg
    German Macintosh Code-table

[-] Addons\Tables\Slavic (CE)\Czech\Kamenicti.reg
    Исправлены ошибки в исходной таблице и не совпадающие символы заменяются
    на FEh (254). Скорректированы коды: 172, 181..184, 189, 190, 198, 199,
    207..216, 221, 222, 224, 226..245, 247, 249, 251..253.


Плагины
~~~~~~~
[!] Изменения и уточнения в стандартных плагинах (подробнее см.
    Plugins\WhatsNew.Rus.txt)

[*] Уточнения в инструкции по установке/удалению плагинов
    (Plugins\InstallPlugins.Rus.txt)


───────────────────────────────────────────────────────────────────────────
FAR 1.70 beta 3 (build 591) (19.04.2001)
───────────────────────────────────────────────────────────────────────────
Основное
~~~~~~~~
[!] Изменения и уточнения в Plugin API подробнее см. в
    PlugDoc.rar::WhatsNew.Rus.txt
[+] Новый раздел в файлах помощи "Обзор возможностей подключаемых модулей"
    (тоже самое в Plugins\Review.Rus.txt)
[+] "FAR.EXE /?" выдает на экран список доступных ключей командной строки.
[!] Изменен механизм обработки клавиш в неанглоязычной раскладке  клавиатуры
    с модификаторами Alt-, Ctrl-, Alt-Shift-, Ctrl-Shift-, Ctrl-Alt-.
    (подробнее см. TechInfo#24)

Система
~~~~~~~
[+] Для извлечения дисков из CD-ROM и сменных приводов  можно  использовать
    клавишу Del в меню выбора дисков. В Windows NT/2000 для данной операции
    требуются права администратора.
[+] Корректное отображение типа для SUBST-дисков  в  меню  выбора  дисков  и
    информационной панели в 98/ME/NT/2000.
[+] Для удаления SUBST-дисков можно использовать клавишу Del в меню выбора
    дисков - доступно в 98/ME/NT/2000.
[+] Shift-F1 в списке плагинов (F11) и в меню выбора дисков (Alt-F1/Alt-F2)
    вызывает подсказку для текущего плагина  - стандартную тему "Contents".
[+] Shift-F1 в конфигурационном  списке  плагинов  вызывает  подсказку  для
    текущего  плагина  по  теме  "Config".  Если  темы  "Config"  нет,   то
    вызывается стандартная тема "Contents".
[-] Неправильно работало правило "CmdHistoryRule=1" (см. TechInfo#9).
[+] Обработка команд:
     "IF [NOT] EXIST filename command" и
     "IF [NOT] DEFINED variable command".
    К вопросу об "умных" ассоциациях - если на одно расширение навешено
    несколько ассоциаций, и если у ассоциации есть условие "IF EXIST", то
    в меню выбора действия попадают только те пункты, у которых условие
    выполнимо.
[-] При вводе определенного текста в диалогах:
      - создание нового файла (Shift-F4)
      - создание папки (F7)
      - ввод описания к помеченным файлам (Ctrl-Z)
      - применить команду к помеченным файлам (Ctrl-G)
    FAR Manager "падал со скрипом"
[+] Если не устраивает размер курсора консоли в режиме вставки, то см.
    правило 25 (TechInfo#25)
[+] Ctrl-Alt-F в командную строку сбрасывает UNC-имя текущего файла.
[*] Теперь список задач (Ctrl-W) более  дружелюбен  -  попытка  перемещения
    курсора выше первого пункта  или  ниже  последнего  будет  приводить  к
    перемещению соответственно к последнему или к первому пункту.
[-] Ошибка в функции "Копирование текста с экрана" (Alt-Ins):
    "...Если выделение производить мышом и увести мышь за край окна,  то  в
    clipboard'е  у  каждой  строки  будет  "хвостик"  из  первых   символов
    следующей строки. Таковых будет ровно столько, на сколько символов мыша
    будет уведена за край окна..."
[-] Не сохранялось состояние "Помеченные файлы вперед"  ("Show  selected
    first", Shift-F12) при завершении работы FAR.
[+] Опция подтверждения нажатия Esc (Options|Confirmations|Pressing the Esc).
    По умолчанию отключена.
[+] Опция подтверждения отключения сетевого устройства из меню дисков
    (Options|Confirmations|Disconnect network drive).
    По умолчанию включена.
[!] Увеличены размеры:
     - для ввода описаний файлов (Ctrl-Z)               - 1024 символа.
     - для маски для "Раскраски файлов"                 - 2048 символа.
     - для маски для "Групп сортировки"                 - 2048 символа.
     - для маски для "Фильтра файловой панели" (Ctrl-I) - 2048 символа.
[+] Отделение Фар-овской консоли от не интерактивного процесса в ней
    запущенного (подробности в TechInfo#27).
[+] Ctrl-: (Ctrl-двоеточие) и Ctrl-Alt-: (Ctrl-Alt-двоеточие) вставляют
    имя/UNC-имя файла из пассивной панели.
[-] "Падение" при ширине одной панели (режим 7, Ctrl-7) более 150 символов.
[-] Не сбрасывалось выделение в командной строке по Enter и Shift-Enter
[-] В панелях в 8-м режиме (Ctrl-8) под Windows 2000 не отображались
    "владельцы" файлов.
[-] Если ветка реестра [HKEY_CLASSES_ROOT\Directory\shellex\CopyHookHandlers]
    пуста, то при удалении папок в корзину FAR может упасть. При старте
    FAR проверяет эту часть реестра и если CopyHookHandlers пуста - удаляет
    [HKEY_CLASSES_ROOT\Directory\shellex\CopyHookHandlers]
[+] Можно задавать символ-заполнитель для операции "Уничтожить файл" (Alt-Del)
    (см. TechInfo#29).
[+] Alt-Shift-Left, Alt-Shift-Right, Alt-Shift-Home и Alt-Shift-End выделяют
    блок в командной строке независимо от состояния панелей.
[-] При удалении используемого файла в корзину (например, запущенной программы)
    в сообщении об ошибке говорилось, что операция выполнена успешно
[*] Сохранение файловых атрибутов для существующего файла Tree.Far при
    обновлении дерева.
[+] Для любых UNC-путей в корень добавляется папка ".." - Windows не делает
    это в случае, если UNC-путь соответствует корневой папке диска.
[+] Правило TechInfo#30, учитывающее системную политику "Hide Drives in My
    Computer"
[-] Неверные значения для Ctrl-N Ctrl-F (режим коротких имен) для
    длинных имен на плагинах типа TempPanel (плагины, которые содержат
    имена реальных файлов вместе с путем).
[-] Дублирование имен файлов в истории/кэше просмотра/редактирования.
    (подробнее см. TechInfo#31)
[*] Корректное удаление папок по F8 и Shift-F8 на панели дерева.
[+] Ctrl-C/Ctrl-Ins - копирование строки из списка историй (Alt-F8,
    Alt-F11, Alt-F12) в Буфер Обмена (подробнее в хелпе)
[-] Если в строку быстрого поиска вставлялось из буфера имя файла в
    кавычках, позиционирование на этот файл не работало.
[+] Поддержка колеса мыши в Windows 2000 (подробнее см. TechInfo#33)

Информационная панель
~~~~~~~~~~~~~~~~~~~~~
[*] В  информационной  панели  (Ctrl-L)   под   Windows   2000   корректно
    отображается информация для символических связей (directory junctions) и
    монтированных дисков (volume mount points)  при заходе в такую папку.
[!] Для просмотра описаний используется вьювер. Это изменение позволяет:
    - использовать перенос строк файла описаний;
    - прокручивать файл описаний;
    - переключать кодовые таблицы;
    - искать в файле описаний (F7).

Файловые ассоциации
~~~~~~~~~~~~~~~~~~~
[+] Специальные символы "!&" (список помеченных файлов) и "!&~" (список
    помеченных файлов с короткими именами). В отличие от "!@!" и "!$!"
    подставляются имена файлов, а не имя файла со списком. Не желательно
    использовать "!&" или "!&~" совместно с "IF [NOT] EXIST" в качестве
    параметра проверки "filename" - получите совершенно непредсказуемый
    эффект
[+] Модификатор "!^" обозначающий  ссылку  на  активную  панель.  Например,
    !^!.! обозначает имя текущего файла на активной панели,  а  конструкция
    !#!\!^!.! - файл на  пассивной  панели  с  таким  же  именем,  как  имя
    текущего файла на активной панели.
[+] Для ассоциаций !@! и !$! допускаются следующие модификаторы:
    'Q' - заключать имена с пробелами в кавычки;
    'S' - использовать '/' вместо '\' в путях файлов;
    'F' - использовать полный путь;
    'A' - использовать ANSI кодировку.
    Например,  ассоциация  !@AFQ!  -  имя   файла,   содержащего   имена
    помеченных файлов с  полным  путем  в  ANSI  кодировке;  имена  файлов,
    содержащие пробелы будут заключены в кавычки.

Копирование/Переименование
~~~~~~~~~~~~~~~~~~~~~~~~~~
[!] Создание связей для файлов (Alt-F6) работает теперь только в семействе
    Windows NT, о чем FAR честно предупреждает.
[*] Имеется возможность задавать размер буфера копирования (см. TechInfo#23)
[-] Косметика: неправильно обрезалось имя в диалоге копирования/перемещения
[+] Отображение информации о скорости и времени копирования (см. TechInfo#26)
[!] Под Windows 2000 операция перемещения (Move) в папку, представленную
    reparse point, производится корректно.
[*] Немного интеллекта при копировании/перемещении объектов по дискам.
    Если в строке назначения заключительным символом не стоит обратная
    косая черта '\', например, "..\foo", то:
     1. Копируем только файлы - все файлы будут скопированы в файл "..\foo"
        (только если "..\foo" не папка).
     2. Копируем только папки - все папки будут скопированы в папку
        "..\foo" с сохранением структуры папок.
     3. Копируем файлы и папки - все файлы и папки будут скопированы
        в папку "..\foo" с сохранением структуры папок.

Командная строка
~~~~~~~~~~~~~~~~
[-] Комбинация Ctrl-D удаляла блок вместо перемещения на символ вправо.
[-] Не снималось выделение после отработки макроса.


Редактор
~~~~~~~~
[-] Ctrl-S при непостоянных блоках не снимал выделение.
[+] Alt-Shift-F9 вызывает диалог для изменения настроек текущего редактора.
    Обратите внимание на то, что включение режима "Пробелы вместо табуляции"
    ("Expand Tabs to spaces") приводит к замене всех символов  табуляции  в
    файле на пробелы, причем эта  операция  не  обратима,  т.е.  отключение
    данного режима не приведет к обратной замене уже существующих  в  файле
    пробелов на табуляцию.
[-] Правило поиска "EditorF7" не работало (TechInfo#18)
[-] Медленно  выполнялись  команды  Ctrl-Shift-Left  и  Ctrl-Alt-Left  на
    ооооочень длинных словах
[-] Иногда  не  срабатывала  проверка  при  открытии  файлов,  превышающих
    определенный  размер,  в  результате  чего  такие   файлы   все   равно
    открывались (TechInfo#20)
[-] При вызове редактора из плагина показывался мусор.
[*] Изменено правило 19 (TechInfo#19) - теперь по умолчанию FAR задает
    вопрос при открытии ReadOnly файлов.
[-] "...при редактировании/просмотре в верхней строчке пишется  полное  имя
    файла (с путем).  После  перехода  из  редактора  во  viewer  (F6)  оно
    заменяется на "просто имя файла". Еще раз F6 - возвращается полное имя,
    дальнейшие нажатия F6 результата не дают..."
[+] Если блок не отмечен, то Alt-U и Alt-I двигают текущую строку.
[-] Не учитывалось, закрылся ли файл на самом деле по Ctrl-F10
[-] Если нажать в редакторе Enter в конце файла (добавить строку), а потом
    откатить изменения (Alt-Bs), то признак модификации исчезает, но
    пустая строка остается.
[-] Залоченный (Ctrl-L) не модифицированный файл не сохранялся с новым
    именем (Shift-F2).
[!] Изменен диалог "Сохранить как" (Shift-F2) и добавлена тема помощи для
    этого диалога.
[-] Нажатие Ctrl-M в редакторе, когда курсор стоял сразу после выделенного
    блока, приводило к перемещению блока после курсора. Теперь такая операция
    не изменяет текст.
[-] Ввод кода символа (Ctrl-Q) при выключенных постоянных блоках не удалял
    отмеченный блок.

Программа просмотра
~~~~~~~~~~~~~~~~~~~
[+] Alt-Shift-F9 вызывает диалог настроек вьювера.
[*] Снова про F9 в LNG-файлах. Теперь работает.
[-] Баг при поиске на длинных строках без переноса.
[+] "...чтобы запоминался режим просмотра файла Hex/норм,
        отдельно для каждого файла..."
    Работает при включенном "[x] Save file position"
[-] "...используем Ctrl-Q в панелях. Навигацию делаем с помощью +  и  -  на
    цифровой клаве.  Если  натолкнемся  на  файл  который  нельзя  открыть:
    pagefile.sys или win386.swp - FAR тихо схлопывается..."
[-] Баг при сохранении типа переноса.
[-] Во встроенной программе просмотра поиск в *.EXE, *.DLL или подобных
    файлах в режиме Wrap работал на порядок медленнее, чем в режиме Unwrap.
[-] Alt-F8: переход происходил только тогда, когда в момент закрытия диалога
    курсор находился в строке ввода.

QuickView
~~~~~~~~~
[+] В Windows 2000 для символических связей отображается путь к
    исходным папкам.
[*] Выделенный текст отображается как "Highlighted info", а не как
    "Selected text"
[+] Режим переноса в QuickView не зависит от режима переноса во вьювере.

Система помощи
~~~~~~~~~~~~~~
[-] При вызове активатора не учитывались переменные среды.
[+] KeyBar в системе помощи.
[+] Новый раздел "Команды операционной системы".
[*] Уточнения в разделе "Настройка режимов просмотра панели файлов" - описаны
    условные обозначения файловых атрибутов.
[*] Если тема не найдена - выводится сообщение об ошибке, окно помощи не
    закрывается.

Файловые атрибуты
~~~~~~~~~~~~~~~~~
[!] Один диалог на любые действия.
[!] Если имеется выделение нескольких объектов файловой системы  или  меняем
    атрибуты для папки с включенным "Process subfolders", то  контрольные
    переключатели (CheckBox) имеют 3 состояния:
     "[x]" - установлен (или установить) атрибут
     "[ ]" - сброшен (или сбросить) атрибут
     "[?]" - неопределен (или не трогать) атрибут
[+] Для выделенных объектов:
     "[x]" - данный атрибут установлен у всех
     "[ ]" - данный атрибут сброшен у всех
     "[?]" - данный атрибут не у всех объектов
[+] Если среди выделенных объектов нет папок, то опция "Process subfolders"
    будет недоступной
[-] Ошибка при отображении/вводе даты, формат которой отличен от "dd.MM.yyyy"
[!] В диалоге файловых атрибутов, если  исследуемый  объект  -  папка,  то
    включение "Process subfolders" не очищает область с атрибутами.
[-] Диалог установки атрибутов (клавиша F4) вызывался в плагиновых панелях.
[-] При копировании/переносе не выставлялся атрибут Encrypted для папок
    имеющих данный атрибут.
[+] Для симлинков в диалоге установки атрибутов дополнительно отображается
    информация об оригинальной папке (NTFS/Win2K).
[*] В 5-м режиме панелей (Ctrl-5), если папка - это символическая связь
    (NTFS/Win2K), то дополнительно будет стоять буква 'L'.
[+] Для символических связей (NTFS/Win2K) так же можно задавать свой цвет
    (диалог "Раскраска файлов").
[!] "...Если вы не хотите изменять время файла, оставьте соответствующее
    поле пустым. Вы можете нажать кнопку "Blank" (Сброс), чтобы очистить все
    поля с датами и временем, после чего поменять отдельную составляющую
    даты и времени, например только месяц или только минуты.
    Остальные значения полей остаются неизменными..."

Макросы
~~~~~~~
[!] Изменен внешний вид диалога назначения клавиши.
[+] Выдается предупреждение на перезапись, если макрос существует или
    предупреждение, если хотим удалить макрос.
[+] 3 дополнительных области макросов - "Info", "QView", "Tree"
[+] 4 новых режима для панельным макросов:
    "NoFilePanels"   - Не выполнять для файловой панели
    "NoPluginPanels" - Не выполнять для плагиновой панели
    "NoFolders"      - Не выполнять если текущий элемент - папка
    "NoFiles"        - Не выполнять если текущий элемент - файл
      По умолчанию все режимы выключены.
    (добавлены так же в диалог параметров макроса - Ctrl-Shift-.)
    Подробнее - TechInfo#22
[+] В качестве маленького эксперимента - 7 новых макрокоманд:
    "$Day", "$Month", "$Year", "$Hour", "$Min", "$Sec"
        Например, макрос "$Year . $Day . $Month . t x t" сформирует
        для 21 декабря 2000 г. строку "2000.21.12.txt"
    "$MMode" - сменить режим макроса.
    Подробнее - TechInfo#22
[-] Неправильно воспроизводился макрос в режиме грабления экрана.
    При воспроизведении клавиша Home перемещала курсор в координаты
    0,0 консоли.

Пользовательское меню
~~~~~~~~~~~~~~~~~~~~~
[-] Если при редактировании команды в меню пользователя не  ввели  метку  и
    нажали "продолжить", то не выходим из  диалога  редактирования  команд,
    т.к. теряем те команды, что, возможно, ввели. Для выхода из меню  нужно
    воспользоваться esc или кнопкой "отменить".

Addons
~~~~~~
[+] Дополнительные макрокоманды в Addons\Macros:
     CtrlS.reg - сохранение в редакторе
     CtrlW.reg - сохранение в редакторе и выход
[+] Настройки архиватора ARJ32.EXE (консольный/Win32 >= 3.08a):
    Addons\Archivers\Arj32.reg
[-] Изменен пункт настроек "Recover" в Addons\Archivers\pkzip25.reg
    "При попытке вылечить испорченный архив наблюдается 'зависание' ФАРа"
[*] Изменены следующие макросы в Addons\Macros:
     F3.reg          - исполняется только для файлов.
     AltScreens.reg  - добавлена обработка Shell
[+] Addons\Shell\FARHere.inf
    "Far Here" PowerToy - Это небольшое дополнение для Windows.
    Установите этот .inf, тогда вы сможете в Проводнике щелкнуть правой
    кнопкой мыши на любой папке и выбрать в меню команду 'Far Here'.
[+] Addons\Archivers\MsCab.reg
    Настройки для MsCab.exe, который позволяет создавать, модифицировать и
    распаковывать (Microsoft) CAB-архивы.
    Архив с MsCab.exe можно взять здесь:
    http://www.uic.nnov.ru/~ruiv/plugring/cgi-bin/downld.cgi?Draw=List&Select=PlugIn&SelectPlugIn=310
    или на странице автора: http://www.mateuszb.hg.pl/
[*] Addons\Macros\Esc.reg
    Модифицирован с учетом введения дополнительных областей действия макросов.
[*] Addons\Macros\Del.reg
    Модифицирован с учетом введения дополнительных областей действия макросов.

Плагины
~~~~~~~
[!] Изменения и уточнения в стандартных плагинах (подробнее см.
    Plugins\WhatsNew.Rus.txt)


───────────────────────────────────────────────────────────────────────────
FAR 1.70 beta 2 (build 321) (16.12.2000)
───────────────────────────────────────────────────────────────────────────
Основное
~~~~~~~~
[!] Для компиляции FAR Manager использовался Borland C/C++ 5.02. MSVC 6 SP4
    не оправдал ожиданий (FAR 1.70 beta 1) и  добавил  тормозов  (работа  с
    выделением памяти для мелкими объектов).
[!] Изменен внешний вид данного документа.
[!] При старте Far.exe выдает номер версии в следующем виде: "1.70  Beta  2
    (build NNN)" Просьба, при описании найденной  ошибки  указывать  именно
    такой формат.
[-] FAR вываливался в случае, если невозможно было найти необходимые/
    требуемые LNG-файлы.
[!] Создана группа, занимающаяся разработкой плагина MultiArc.
    Email для писем об ошибках и предложениях fararcbugs@newmail.ru.
[*] В файле `SaveSettings.bat' ключ "/e" при вызове regedit.exe заменен
    на "/ea" для сохранения файлов FarSave?.reg в формате ANSI в Win2K


Система
~~~~~~~
[!] Корректная работа с элементами "Directory Junctions" в Win2K
    - в Дереве подобная папка будет показан без подпапок (что
      предотвращает зацикливание)
    - корректное удаление "Directory Junctions", если они "спрятаны" во
      вложенных папках.
[-] В диалогах не удалялась последняя строка в многострочном редакторе по BS
[*] Был "не учтен" COL_DIALOGMENUSCROLLBAR - цвет ScrollBar`а в
    списках (по поводу "цвет скролбара в поиске файлов нельзя настроить")
[+] 6 цветов для DISABLED элементов (в диалогах и предупреждениях).
    Внимание! Для корректного показа подобных элементов необходимо
    настроить цвета "Options|Colors" (для тех у кого установлены стандартные
    цвета, достаточно выбрать пункт меню "Set default colors" или
    "Black and white mode")
[-] Некорректная работа автодополнения при включенных постоянных блоках.
[!] Автодополнение не работает во время проигрывания макросов.
[*] Изменён хоткей в поиске в редакторе "Поиск по словам":
      в FindFiles и Viewer - хоткей "W".
      в Editor был "о" - не однообразно.
[+] Правило на счет вызова исключений - показывать кнопку "Debugger" и
    вызывать его (см. TechInfo)
[*] Прокрутка мышью не врапит меню.
[-] Поиск по Alt-F7 с очень длинной маской поиска/текста:
    "...Проверяет длину срок, выдает warning и в принудительном
    порядке обрезает строки ввода для маски и для текста.
    Продолжает искать с обрезанными строками..."
[-] В Win9x не копировались папки/файлы в NUL из UNC-путей.
[*] Изменен механизм движения диалоговых окон


Редактор
~~~~~~~~
[+] В статусной строке буквами RSH показываются соответствующие атрибуты
    файла, если они установлены.
    Задание поведения редактора при открытии на редактирование файлов,
    имеющих атрибуты "Только для чтения" см. в TechInfo.
[+] Предупреждение для файлов большого размера (см. TechInfo)
[-] Курсор за концом строки: Ctrl-Del работал как Del.
[!] Новое правило поиска (F7) привело "к буре аплодисментов" ту половину
    аудитории, которая считает, что правило "первый поиск идет с текущей
    позиции, а следующий - со следующей" - происки ДНа.
    Теперь "откатиться назад" можно, не корежа FAR. См. правило насчет
    поиска в редакторе в TechInfo.
[!] ShiftBS изменен на CtrlShiftBS
[-] Shift-Tab неверно работал при сброшенном флаге "[ ] expand tabs"
[-] Tab неверно работал при сброшенном флаге "[ ] expand tabs" в режиме
    замены
[-] Ctrl-Y на последней строке с выделенным вертикальным блоком не снимал
    выделение

Вьювер
~~~~~~
[!] Режим переноса по словам (Word Wrap) доступен только
    зарегистрированным пользователям.
[*] Забыли "застолбить" место в LNG-файлах под клавишу F9
[-] В диалоге настройки вьювера не работала опция "Автоопределение..."
[+] Клик мышью в статусной строке:
     - на "DOS" - вызывает меню выбора кодировки
     - на позиции - вызывает диалог перехода (Alt-F8)

Система помощи
~~~~~~~~~~~~~~
[!] "Косметика" в HLF-файлах


XLat-трансляция
~~~~~~~~~~~~~~~
[-] Проблема с Alt* при трансляции
[*] 30 правил вместо 10 для "особых" символов
[+] Без выделения преобразует текущее слово. Курсор должен стоять на слове
    или в следующей позиции за словом.
[+] В командной строке, если нет выделения, конвертируется вся строка.


Файловые атрибуты
~~~~~~~~~~~~~~~~~
[-] некорректная работа с include/exclude для атрибута Encrypted в диалоге
    Files highlighting.
[*] если папка одна, то опция "Process subfolders" снята.
[*] "Изменить атрибуты файла" в диалоге для папок/нескольких файлов
    заменено более обобщенное  - "Изменить файловые атрибуты".
[+] F4 и Ctrl-Shift-F4 для папок вызывают диалог смены файловых атрибутов.
[-] Ctrl-A Alt-N Enter - фокус ввода не устанавливался в поле даты.
[*] В диалогах установки файловых атрибутов отображаются все доступные
    атрибуты. При этом, если том по каким-то причинам не поддерживает
    тот или иной атрибут, то соответствующая опция в диалоге будет
    недоступна.


Пользовательское меню
~~~~~~~~~~~~~~~~~~~~~
[-] Команда
    > printFile.cmd !@! !?&Порт для печати?lpt1:! !?&Левый отступ (в
    > столбцах)?0! !?&Размер шрифта (CPI)?10! !?&Ориентация страницы
    > (0-книжн.,1-альб.)?0! !?&Строк на дюйм (LPI)?8! !?&Качество печати
    > (2-норм.,1-экон.)?1! !?Кол&ичество копий?1!!?&Только инициализация
    > принтера (1-да,0-нет)?0!
    "убивала" Far 1.70 beta 1 при попытке вызова.

Addons
~~~~~~
[*] Addons\Macros\CtrlShiftPg*.reg объединены в один - CtrlShiftPgUpDn.reg

Плагины
~~~~~~~
[!] Изменения и уточнения в стандартных плагинах (подробнее см.
    Plugins\WhatsNew.Rus.txt)


───────────────────────────────────────────────────────────────────────────
FAR 1.70 beta 1 build 272 (21.11.2000)
───────────────────────────────────────────────────────────────────────────
Основное
~~~~~~~~
[!] Начиная с версии 1.70, разработка ФАР ведётся группой "Far Group".
    Евгений Рошал по-прежнему остается автором ФАРА и следит за проектом.
    Новый адрес для писем об ошибках и предложениях farbugs@newmail.ru

[!] В Contacts.txt "кварта" заменена на "PlugRinG"


Система
~~~~~~~
[*] Вместо "Копирование {xx%} - FAR" в заголовке окна
    пишется "{xx%} Копирование - FAR".
[!] В far*.lng файлах зарезервированы места под все Fn клавиши.
[!] Реакция на хоткеи в меню и диалогах независимо от раскладки языка.
[+] Комбинация клавиш Ctrl-Alt-Shift в диалогах, панелях, экране помощи,
    редакторе и вьювере показывает пользовательский экран. В отличии от
    Ctrl-O - показывает экран до тех пор, пока эта комбинация нажата.
[+] Новый пункт в диалоге "Настройки интерфейса":
     "Показывать полосу прокрутки в меню".
    Если включен, и если в меню число пунктов больше чем его размер,
    то показывается полоса прокрутки. Также для этого введены два новых
    цветовых параметра в меню настроек цветов.
[+] В "Раскраске файлов" клавиша Ctrl-R восстанавливает раскраску по умолчанию.
[+] В некоторых диалоговых окнах можно вводить строки с переменными среды
    окружения. Это диалоги "Системные параметры", диалоги копирования,
    перемещения файлов и создание папок, а также диалог ввода значений
    из пользовательского меню.
[+] Новый пункт в диалоге "Системные параметры":
     "Путь к персональным плагинам"
    Можно ввести путь откуда FAR будет загружать плагины. Этот пункт
    добавляет возможность разграничения доступа разных пользователей к
    различным плагинам.
[+] Нажатие клавиши Ctrl-L в строке ввода диалогов переводит
    её в состояние ReadOnly.
[-] Ошибка, приводящая к падению ФАРА под Win2k при большом (более 140
    строк) размере консоли.
[-] Ошибка при создании группы папок и не перечитывании панели в случае ошибки.
[+] Новый пункт в диалоге "Настройки интерфейса":
     "Автозавершение в строках ввода".
    Используется в диалогах, если строка ввода имеет историю, во время
    набора происходит поиск в истории совпадающей строки и подстановка в
    строку ввода.
[+] Новый параметр командной строки -
       /p[<path>]
    Искать "основные" плагины в папке, указанной в <path>.
    Если <path> не указан, то "основные" плагины не будут загружаться. При
    указании пути <path> можно использовать переменные среды.
[+] Новый режим поиска - "По словам".
    Действует при поиске в редакторе, в программе просмотра,
    и при поиске файлов.
[+] При движении клавиш курсора во время поиска файлов (Alt-F7 в панелях),
    текущая папка поиска постоянно обновляется.
[-] Устранена ошибка при поиске в запароленном архиве. Если после получения
    запроса на ввод пароля несколько раз нажать стрелки вверх или вниз или
    пошевелить мышкой, диалог запроса пароля исчезал.
[+] в списке окон выводится полное имя файла. Измененные файлы в
    редакторе маркируются символом "*".
[+] Диалоги можно перетаскивать мышью, передвигая их за пустое
    место или с помощью клавиш Ctrl-F5.
[+] При нажатии на '/','\' в QuickSearch переходим в папку.
    Внимание: тем, кто применял комбинацию Alt-\, как такую, которая выводит
    пустое окно быстрого поиска, теперь надо применять Alt-<
[+] Расширено состояния линейки функциональных клавиш.
    Добавились три новых состояния - CtrlShift, AltShift, CtrlAlt.
    В том числе и для плагинов.
[+] Dialogs: Ctrl-U снимает выделение в строках ввода в диалогах.
[+] Дополнительно можно раскрасить "C:\>", для любителей отличать Prompt от
    введенной команды. По умолчанию - такой же цвет, как и у ком.строки.
[!] "[x] Копировать открытые для записи файлы" - по умолчанию разрешен.
[+] Ctrl-Shift-X "транслирует" выделенный текст в редакторе/диалогах/
    командной строке по принципу QWERTY<->ЙЦУКЕН. Таблицы настраиваемы,
    комбинация клавиш - переопределяема (дополнительно см. TechInfo.txt,
    примеры назначения комбинаций клавиш - %FAR%\Addons\XLat\Russian\
    Apps.reg, AltR.reg, CtrlShiftX.reg).
[*] Ctrl-F копирует полное имя файла в таком виде, как оно представлено
    на панелях.
[*] Screen Grabber (Alt-Ins) - "при добавлении к содержимому clipboard
    (Ctrl-Gray+) не вставляет <CR> в конце, из-за чего несколько фрагментов
    "слипаются" на стыках. возможно имеет смысл также вставлять <CR> в начале
    фрагмента"
[+] Запоминает текущие файлы в панелях. Работает при включенном
    "[x] autosave setup"
[!] Повторное нажатие на Ctrl-L|Q|T всегда включает файловую панель.
[!] Отключение автоопределения таблицы символов, если отсутствует таблица
    с распределением частот символов, а также выдача соответствующего
    сообщения.
[+] Во вьювере/редакторе/панелях по Alt-F5 будет срабатывать плагин PrintMan
    (если он есть в системе):
     - Панели   - Выбранные (выбранный) файлы
     - Редактор - Весь файл/блок
     - Вьювер   - Весь файл (если стоит режим Hex - печатает дамп)
    Если плагина нет в системе - печать только в панелях.
[!] "Подставлять префиксы плагинов" -   Если эта опция включена, FAR
    автоматически добавит префикс плагина перед вставляемым путем в командной
    строке.


Вьювер
~~~~~~
[*] Показывается полный путь к просматриваемому файлу.
[+] показать/спрятать линейку функциональных клавиш (Ctrl-B).
[+] Новые пункты в диалоге "Настройка программы просмотра":
     "Показывать полосу прокрутки".
     "Показывать стрелки сдвига".
[+] показать/спрятать полосу прокрутки (Ctrl-S).
[-] ошибка в режиме шестнадцатеричного просмотра, приводящая к появлению
    пустой строки.
[*] расширен диалог перехода в заданную позицию:
     <Число>% - перейти на проценты,
     0x<Число>, <Число>h - перейти на шестнадцатеричное смещение,
     <Число>d - перейти на десятичное смещение,
     указание "+" или "-" в начале означает относительное смещение.
[+] Автоопределение Unicode (файлы, у которых первые два байта FF FE
    или FE FF)
[*] в режиме "Быстрый просмотр", если файл нельзя открыть,
    диалоговое окно с ошибкой не показывается.
[-] максимальная длина строки в просмотре увеличена до 2048 байтов.
[+] добавлен новый режим - WordWrap - Перенос по словам:
     F2 - "Без переноса" - "Перенос"
     Shift-F2 задает тип переноса "Перенос по словам" - "Перенос по буквам"
[+] Ctrl-F10 выходит из просмотра устанавливая курсор на файл, из которого
    мы вышли.
[-] исправлена ошибка: в режиме "Быстрый просмотр" описание типа
    папки бралось от ее расширения.
[*] Косметика при показе имен файлов в статусной строке.
    Вместо "...\filename.txt" показывается "C:\....my\filename.txt"
[!] "Save bookmarks" - позволяет сохранять/восстанавливать
    закладки текущих позиций (Ctrl-0..Ctrl-9)


QuickView
~~~~~~~~~
[-] Исправлена ошибка при вызове просмотра файла из панели
    "Быстрый просмотр", после выхода из которого пропадал заголовок консоли.
[-] нажатие Gray+, Gray- в панели "Быстрого просмотра" производит
    переход, соответственно, на следующий или предыдущий файл.


Редактор
~~~~~~~~
[*] расширен диалог перехода в заданную позицию:
    формат -
       [+\-]Строка[%][,[+\-]Колонка]
       Примеры:
       50%     - переход в середину файла,
       10,40   - переход на 10 строку и на 40 колонку,
       -15,-20 - переход на 15 строк назад и на 20 колонок влево,
       ,+30    - переход на 30 колонок вперед, не меняя номера строки.
[+] выделение по словам вертикального блока (клавиши Ctrl-Alt-Left,
    Ctrl-Alt-Right).
[*] строка статуса рисуется с учетом ширины консоли.
[+] позиционирование в панелях на только что отредактированный
    файл (Ctrl-F10)
[-] ошибка при работе с вертикальными блоками в файлах с табуляцией.
[-] ошибка с авто отступом, когда отступ заполнялся пробелами,
    вместо символов, содержащихся в предыдущей строке.
[-] ошибка, когда при отметке вертикального блока более чем в 1000
    колонок фар вылетал.
[-] ошибка, когда нажатие на ^[, ^] не убирало выделенный
    блок, если постоянные блоки отключены.
[-] ошибка, когда при исполнении макроса не снимался выделенный блок
    в строке ввода..
[!] Процесс замены значительно ускорен.
[*] Косметика при показе имен файлов в статусной строке.
    Вместо "...\filename.txt" показывается "C:\....my\filename.txt"
[!] "Save bookmarks" - позволяет сохранять/восстанавливать
    закладки текущих позиций (Ctrl-0..Ctrl-9)
[*] "Редактировали, залочили, при выходе - потеряли файл"
    Теперь спрашивает подтверждение на запись.
[!] Replace в редакторе:
     - помнит ранее введенное значение для замены
     - если при замене выбрали "All", то при повторном Shift-F7 снова
       появляется диалог о подтверждении действий.


Пользовательское меню
~~~~~~~~~~~~~~~~~~~~~
[*] Shift-F10 закрывает пользовательское меню без учета уровня вложенности.
[+] обработка переменных среды в названиях пунктов.
[-] ошибка "не выравнивания" стрелок ">".
[*] Shift-F2 переключает меню между Локальным и Главным по кругу:
      Локальное - Главное меню (папка ФАР) - Главное меню (реестр).
[-] запрос в меню вида "executable.exe !.!?ext:?!" работает верно.
[*] клавиша BkSpace показывает пользовательское меню из
    "родительской" папки.
[+] в меню можно добавить разделитель. Для этого нужно добавить
    новый пункт меню (команду), в котором в качестве "Горячей клавиши"
    указать "-" (минус), а поле "Метка" оставить пустым.
    Удалить такой разделитель можно только через ALT+F4


Система помощи
~~~~~~~~~~~~~~
[-] ошибка с позиционированием курсора в системе помощи при нажатии
    на клавишу End.
[+] Цветовые атрибуты и активные ссылки.


Копирование/Переименование
~~~~~~~~~~~~~~~~~~~~~~~~~~
[+] Новая опция в диалоге копирования/переименования :
       "Только новые/обновленные файлы"
    при ее включении файлы с одинаковыми именами копируются
    только если их дата и время больше чем у целевого файла.
[+] Если панель-приемник не плагиновая, то показываем
    "[ ] Only never..."
[!] Динамический буфер копирования файлов - начинается с 1К,
    потом пошагово возрастает.

Файловые атрибуты
~~~~~~~~~~~~~~~~~
[+] добавлен атрибут Encrypted (NTFS/Win2K)
[+] если том не поддерживает Сжатие и/или Шифрование, то
    соответствующие опции не показаны.
[+] если вызываем диалог только для папки, то при снятии опции
    "Обрабатывать вложенные папки" будут показаны все атрибуты
    данной папки.
[!] введена логика взаимоисключений атрибутов
[*] В 5-м режиме панелей (Ctrl-5), если файл имеет атрибут Encrypted
    (NTFS/Win2K), то будет стоять буква 'E' вместо 'C' (т.к. Win2K
    считает атрибуты Compressed и Encrypted взаимоисключающими).
[+] Для файлов и папок с атрибутом Encrypted (NTFS/Win2K) так же
    можно задавать свой цвет (диалог "Раскраска файлов").


Addons
~~~~~~
[+] Дополнительные макрокоманды в Addons\Macros.
[+] Частотная таблица для украинского языка
    Addons\Tables\Ukrainian\Dist.Ukr.reg


Плагины
~~~~~~~
[+] Обработка в плагинах клавиши F3 на "..".
[!] Дополнительные/измененные плагины (см. Plugins\WhatsNew.Rus.txt).



                                     [ FAR manager development group ]
