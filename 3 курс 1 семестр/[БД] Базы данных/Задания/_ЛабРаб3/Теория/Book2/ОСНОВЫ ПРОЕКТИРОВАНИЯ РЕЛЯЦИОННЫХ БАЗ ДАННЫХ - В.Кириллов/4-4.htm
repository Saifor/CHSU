<!doctype html public "-//W3C//DTD HTML 3.2//RU">
<html>
<head>
   <title>О нормализации, функциональных и многозначных зависимостях</title>
   
   
   
   
   
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/header0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="_pic_/logo.gif" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>
<h4>4.4. О нормализации, функциональных и многозначных зависимостях</h4>
<p align="justify"><a name="normalization"></a><i>Нормализация</i> – это разбиение таблицы на две или более, обладающих лучшими свойствами при включении, изменении и удалении данных. Окончательная цель нормализации сводится к получению такого проекта базы данных, в котором <i>каждый факт появляется лишь в одном месте</i>, т.е. исключена избыточность информации. Это делается не столько с целью экономии памяти, сколько для исключения возможной противоречивости хранимых данных. </p>
<p align="justify">Как указывалось в п. <a href="3-1.htm">3.1</a>, каждая таблица в реляционной БД удовлетворяет условию, в соответствии с которым в позиции на пересечении каждой строки и столбца таблицы всегда находится единственное атомарное значение, и никогда не может быть множества таких значений. Любая таблица, удовлетворяющая этому условию, называется <a name="norm"></a><i>нормализованной</i> (см. таблицы рис. <a href="4-2.htm#pic4-2">4.2</a> – <a href="4-3.htm#pic4-3">4.4</a>). Фактически, ненормализованные таблицы, т.е. таблицы, содержащие повторяющиеся группы (см. рис. <a href="4-2.htm#pic4-1">4.1</a>), даже не допускаются в реляционной БД. </p>
<p align="justify">Всякая нормализованная таблица автоматически считается таблицей в <a href="normal"></a><i>первой нормальной форме</i>, сокращенно <i>1НФ</i>. Таким образом, строго говоря, "нормализованная" и "находящаяся в 1НФ" означают одно и то же. Однако на практике термин "нормализованная" часто используется в более узком смысле – "полностью нормализованная", который означает, что в проекте не нарушаются никакие принципы нормализации. </p>
<p align="justify">Теперь в дополнение к 1НФ можно определить дальнейшие уровни нормализации – <i>вторую нормальную форму</i> (<i>2НФ</i>), <i>третью нормальную форму</i> (<i>3НФ</i>) и т.д. По существу, таблица находится в 2НФ, если она находится в 1НФ и удовлетворяет, кроме того, некоторому дополнительному условию, суть которого будет рассмотрена ниже. Таблица находится в 3НФ, если она находится в 2НФ и, помимо этого, удовлетворяет еще другому дополнительному условию и т.д. </p>
<p align="justify">Таким образом, каждая нормальная форма является в некотором смысле более ограниченной, но и более <i>желательной</i>, чем предшествующая. Это связано с тем, что "(N+1)-я нормальная форма" не обладает некоторыми непривлекательными особенностями, свойственным "N-й нормальной форме". Общий смысл дополнительного условия, налагаемого на (N+1)-ю нормальную форму по отношению к N-й нормальной форме, состоит в исключении этих непривлекательных особенностей. В п. <a href="4-3.htm">4.3</a> мы выявляли непривлекательные особенности таблицы рис. <a href="4-2.htm#pic4-2">4.2</a> и для их исключения выполняли "интуитивную нормализацию". </p>
<p align="justify">Теория нормализации основывается на наличии той или иной зависимости между полями таблицы. Определены два вида таких зависимостей: функциональные и многозначные. </p>
<p align="justify"><a name="func"></a><i>Функциональная зависимость</i>. Поле В таблицы функционально зависит от поля А той же таблицы в том и только в том случае, когда в любой заданный момент времени для каждого из различных значений поля А обязательно существует только одно из различных значений поля В. Отметим, что здесь допускается, что поля А и В могут быть составными. </p>
<p align="justify">Например, в таблице Блюда (рис. <a href="4-3.htm#pic4-4">4.4</a>) поля Блюдо и Вид функционально зависят от ключа БЛ, а в таблице Поставщики рис. 4.3 поле Страна функционально зависит от составного ключа (Поставщик, Город). Однако последняя зависимость не является функционально полной, так как Страна функционально зависит и от части ключа – поля Город. </p>
<p align="justify"><i>Полная функциональная зависимость</i>. Поле В находится в полной функциональной зависимости от составного поля А, если оно функционально зависит от А и не зависит функционально от любого подмножества поля А. </p>
<p align="justify"><a name="many"></a><i>Многозначная зависимость</i>. Поле А многозначно определяет поле В той же таблицы, если для каждого значения поля А существует хорошо определенное множество соответствующих значений В. </p>
<a name="pic4-5"></a>
<center>
Обучение
<table cellspacing=0 cellpadding=3 border=1>
<tr valign=top><th>Дисциплина</th><th>Преподаватель</th><th>Учебник</tr>
<tr valign=top><td>Информатика</td><td>Шипилов П.А.</td><td>Форсайт Р. Паскаль для всех</tr>
<tr valign=top><td>Информатика</td><td>Шипилов П.А.</td><td>Уэйт М. и др. Язык Си</tr>
<tr valign=top><td>Информатика</td><td>Голованевский Г.Л.</td><td>Форсайт Р. Паскаль для всех</tr>
<tr valign=top><td>Информатика</td><td>Голованевский Г.Л.</td><td>Уэйт М. и др. Язык Си</tr>
<tr valign=top><td>...</td><td>...</td><td>...</tr>
</table>
</center>
<p align="center"><i>Рис. 4.5. К иллюстрации многозначных зависимостей</i></p>
<p align="justify">Для примера рассмотрим таблицу "Обучение" (рис. 4.5). В ней есть многозначная зависимость "Дисциплина-Преподаватель": дисциплина (в примере Информатика) может может читаться несколькими преподавателями (в примере Шипиловым и Голованевским). Есть и другая многозначная зависимость "Дисциплина-Учебник": при изучении Информатики используются учебники "Паскаль для всех" и "Язык Си". При этом Преподаватель и Учебник не связныфункциональной зависимостью, что приводит к появлению избыточности (для добавление еще одного учебника придется ввести в таблицу две новых строки). Дело улучшается при замене этой таблицы на две: (Дисциплина-Преподаватель и Дисциплина-Учебник).</p>
<p align="center">
<font size=-1>
[<a href="4-3.htm">Назад</a>] [<a href="index.htm">Содержание</a>] [<a href="4-5.htm">Вперед</a>]
</font>
</p>
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/footer0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>