<!doctype html public "-//W3C//DTD HTML 3.2//RU">
<html>
<head>
   <title>Характеристика связей и язык моделирования</title>
   
   
   
   
   
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/header0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="_pic_/logo.gif" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>
<h4>2.2. Характеристика связей и язык моделирования</h4>
<p align="justify">При построении инфологических моделей можно использовать язык <a name="erdiag"></a><i>ER-диаграмм</i> (от англ. Entity-Relationship, т.е. сущность-связь). В них сущности изображаются помеченными прямоугольниками, ассоциации – помеченными ромбами или шестиугольниками, атрибуты – помеченными овалами, а связи между ними – ненаправленными ребрами, над которыми может проставляться степень связи (1 или буква, заменяющая слово "много") и необходимое пояснение.</p>
<p align="justify">Между двумя сущностям, например, А и В возможны четыре вида связей.</p>
<p align="justify"><b>Первый тип</b> – связь ОДИН-К-ОДНОМУ (1:1): в каждый момент времени каждому представителю (экземпляру) сущности А соответствует 1 или 0 представителей сущности В:</p>
<p align="center"><img src="_pic_/pic2-2-1.gif" width=298 height=26 border=0></p>
<p align="justify">Студент может не "заработать" стипендию, получить обычную или одну из повышенных стипендий.</p>
<p align="justify"><b>Второй тип</b> – связь ОДИН-КО-МНОГИМ (1:М): одному представителю сущности А соответствуют 0, 1 или несколько представителей сущности В.</p>
<p align="center"><img src="_pic_/pic2-2-2.gif" width=299 height=30 border=0></p>
<p align="justify">Квартира может пустовать, в ней может жить один или несколько жильцов.</p>
<p align="justify">Так как между двумя сущностями возможны связи в обоих направлениях, то существует еще два типа связи МНОГИЕ-К-ОДНОМУ (М:1) и МНОГИЕ-КО-МНОГИМ (М:N).</p>
<a name="ex2-1"></a>
<p align="justify"><b>Пример 2.1.</b> Если связь между сущностями МУЖЧИНЫ и ЖЕНЩИНЫ называется БРАК, то существует четыре возможныхпредставления такой связи:</p>
<p align="center"><img src="_pic_/pic2-2-3.gif" width=284 height=123 border=0></p>
<p align="justify">Характер связей между сущностями не ограничивается перечисленными. Существуют и более сложные связи:</p>
<ul>
<li>множество связей между одними и теми же сущностями
</ul>
<p align="center"><img src="_pic_/pic2-2-4.gif" width=273 height=45 border=0></p>
<p align="justify">(пациент, имея одного лечащего врача, может иметь также несколько врачей-консультантов; врач может быть лечащим врачом нескольких пациентов и может одновременно консультировать несколько других пациентов);</p>
<ul>
<li>тренарные связи
</ul>
<p align="center"><img src="_pic_/pic2-2-5.gif" width=265 height=65 border=0></p>
<p align="justify">(врач может назначить несколько пациентов на несколько анализов, анализ может быть назначен несколькими врачами нескольким пациентам и пациент может быть назначен на несколько анализов несколькими врачами);</p>
<ul>
<li>связи более высоких порядков, семантика (смысл) которых иногда очень сложна.
</ul>
<p align="justify">В приведенных примерах для повышения иллюстративности рассматриваемых связей не показаны атрибуты сущностей и ассоциаций во всех ER-диаграммах. Так, ввод лишь нескольких основных атрибутов в описание брачных связей значительно усложнит ER-диаграмму (рис. 2.1,а). В связи с этим язык ER-диаграмм используется для построении небольших моделей и иллюстрации отдельных фрагментов больших. Чаще же применяется менее наглядный, но более содержательный <a name="jim"></a><i>язык инфологического моделирования</i> (ЯИМ), в котором сущности и ассоциации представляются предложениями вида:</p>
<pre>
СУЩНОСТЬ (атрибут 1, атрибут 2 , ..., атрибут n)
АССОЦИАЦИЯ [СУЩНОСТЬ S1, СУЩНОСТЬ S2, ...]
           (атрибут 1, атрибут 2, ..., атрибут n)
</pre>
<p align="justify">где S – степень связи, а атрибуты, входящие в ключ, должны быть отмечены с помощью подчеркивания.</p>
<p align="justify">Так, рассмотренный выше пример множества связей между сущностями, может быть описан на ЯИМ следующим образом:</p>
<pre>
Врач (<u>Номер_врача</u>, Фамилия, Имя, Отчество, Специальность)
Пациент (<u>Регистрационный_номер</u>, Номер койки, Фамилия,
         Имя, Отчество, Адрес, Дата рождения, Пол)
Лечащий_врач [Врач 1, Пациент M]
             (<u>Номер_врача</u>, <u>Регистрационный_номер</u>)
Консультант [Врач M,Пациент N]
            (<u>Номер_врача</u>, <u>Регистрационный_номер</u>).
</pre>
<a name="pic2-1"></a>
<p align="center"><img src="_pic_/pic2-1.gif" width=300 height=398 border=0></p>
<p align="center"><i>Рис. 2.1. Примеры ER-диаграмм</i></p>
<p align="justify">Для выявления связей между сущностями необходимо, как минимум, определить сами сущности. Но это не простая задача, так как в разных предметных областях один и тот же объект может быть сущностью, атрибутом или ассоциацией. Проиллюстрируем такое утверждение на примерах, связанных с описанием брачных связей (см. пример 2.1).</p>
<a name="ex2-2"></a>
<p align="justify"><b>Пример 2.2.</b> Отдел записей актов гражданского состояния (ЗАГС) имеет дело не со всеми людьми, а только с теми, кто обратился с просьбой о регистрации брака, рождения или смерти. Поэтому в странах, где допускаются лишь традиционные браки, отделы ЗАГС могут размещать сведения о регистрируемых браках в единственной сущности:</p>
<pre>
Брак (<u>Номер_свидетельства</u>, Фамилия_мужа, Имя_мужа,
      Отчество_мужа, Дата_рождения_мужа, Фамилия_жены,
      ... , Дата_регистрации, Место_регистрации, ...),
</pre>
<p align="justify">ER-диаграмма которой приведена на рис. 2.1,б.</p>
<a name="ex2-3"></a>
<p align="justify"><b>Пример 2.3.</b> Теперь рассмотрим ситуацию, когда отдел ЗАГС расположен в стране, допускающей многоженство. Если для регистрации браков использовать сущность "Брак" примера 2.2, то будут дублироваться сведения о мужьях, имеющих несколько жен (см. табл. 2.1).</p>
<p align="right">Таблица 2.1</p>
<center>
<table cellspacing=0 cellpadding=3 border=1>
<tr valign=top><th>Номер свидетельства</th><th>Фамилия мужа</th><th>...</th><th>Фамилия жены</th><th>...</th><th>Дата регистрации</tr>
<tr valign=top><td>1-ЮБ 154745</td><td>Петухов</td><td>...</td><td>Курочкина</td><td>...</td><td>06/03/1991</tr>
<tr valign=top><td>1-ЮБ 163489</td><td>Петухов</td><td>...</td><td>Пеструшкина</td><td>...</td><td>11/08/1991</tr>
<tr valign=top><td>1-ЮБ 169887</td><td>Петухов</td><td>...</td><td>Рябова</td><td>...</td><td>12/12/1992</tr>
<tr valign=top><td>1-ЮБ 169878</td><td>Селезнев</td><td>...</td><td>Уточкина</td><td>...</td><td>12/12/1992</tr>
<tr valign=top><td>1-ЮБ 154746</td><td>Парасюк</td><td>...</td><td>Свинюшкина</td><td>...</td><td>06/03/1991</tr>
<tr valign=top><td>1-ЮБ 169879</td><td>Парасюк</td><td>...</td><td>Хаврония</td><td>...</td><td>12/12/1992</tr>
<tr valign=top><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</tr>
</table>
</center>
<p align="justify">Дублирование можно исключить созданием дополнительной сущности "Мужья"</p>
<pre>
Мужья (<u>Код_М</u>, Фамилия, Имя, Отчество, Дата рождения, Место рождения)
</pre>
<p align="justify">и заменой сущности "Брак" характеристикой (см. п. 2.3) со ссылкой на соответствующее описание в сущности "Мужья".</p>
<pre>  
Брак (<u>Номер свидетельства</u>, <u>Код_М</u>, Фамилия жены, ...,
      Дата регистрации, ...){Мужья}.
</pre>
<p align="justify">ER-диаграмма связи этих сущностей показана на рис. 2.1,в, а пример их экземпляров в табл. 2.2 и 2.3.</p>
<p align="right">Таблица 2.2</p>
<center>
<table cellspacing=0 cellpadding=3 border=1>
<tr valign=top><th>Код_М</th><th>Фамилия</th><th>Имя</th><th>Отчество</th><th>Год/р.</th><th>Место рожд.</tr>
<tr valign=top><td>111</td><td>Петухов</td><td>Альфред</td><td>Остапович</td><td>1971</td><td>г. Цапелька</tr>
<tr valign=top><td>112</td><td>Селезнев</td><td>Вавила</td><td>Абрамович</td><td>1973</td><td>г. Гусев</tr>
<tr valign=top><td>113</td><td>Парасюк</td><td>Гораций</td><td>Федулович</td><td>1972</td><td>г. Свиньин</tr>
<tr valign=top><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</tr>
</table>
</center>
<p align="right">Таблица 2.3</p>
<center>
<table cellspacing=0 cellpadding=3 border=1>
<tr valign=top><th>Номер свидетельства</th><th>Код_М</th><th>Фамилия жены</th><th>Имя жены</th><th>Дата регистрации</th><th>...</tr>
<tr valign=top><td>1-ЮБ 154745</td><td>111</td><td>Курочкина</td><td>Августина</td><td>06/03/1991</td><td>...</tr>
<tr valign=top><td>1-ЮБ 163489</td><td>111</td><td>Пеструшкина</td><td>Мариана</td><td>11/08/1991</td><td>...</tr>
<tr valign=top><td>1-ЮБ 169877</td><td>111</td><td>Рябова</td><td>Милана</td><td>12/12/1992</td><td>...</tr>
<tr valign=top><td>1-ЮБ 169878</td><td>112</td><td>Уточкина</td><td>Вероника</td><td>12/12/1992</td><td>...</tr>
<tr valign=top><td>1-ЮБ 154746</td><td>113</td><td>Свинюшкина</td><td>Эльвира</td><td>06/03/1991</td><td>...</tr>
<tr valign=top><td>1_ЮБ 169879</td><td>113</td><td>Хаврония</td><td>Руфина</td><td>12/12/1992</td><td>...</tr>
<tr valign=top><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</tr>
</table>
</center>
<a name="ex2-4"></a>
<p align="justify"><b>Пример 2.4.</b> Наконец, рассмотрим случай, когда какой-либо организации потребовались данные о наличии в ней семейных пар, а для хранения сведений о сотрудниках уже имеется сущность</p>
<pre>
Сотрудники (<u>Табельный_номер</u>, Фамилия, Имя, ...).
</pre>
<p align="justify">Использование, рассмотренной в примере 2.2, сущности "Брак" нецелесообразно: в "Сотрудники" уже есть фамилии, имена, отчества супругов. Поэтому создадим ассоциацию</p>
<pre>
Брак [Сотрудник 1, Сотрудник 1]
     (Табельный_номер_мужа, Табельный_номер_жены, ...),
</pre>
<p align="justify">связывающую между собой определенные экземпляры сущности "Сотрудники" (рис. 2.1,г).</p>
<p align="justify">В заключение отметим, что ER-диаграмма рис. 2.1,а описывает структуру размещения данных о браках в отделах ЗАГС стран, допускающих групповые браки, а ER-диаграммы примера 2.1, описания любых видов браков в организациях, где есть сущности "мужчины" и "женщины", включающие холостых и незамужних.</p>
<p align="justify"><a name="link"></a>Что же такое "связь"? В ER-диаграммах это линия, соединяющая геометрические фигуры, изображающие сущности, атрибуты, ассоциации и другие информационные объекты. В тексте же этот термин используется для указания на взаимозависимость сущностей. Если эта взаимозависимость имеет атрибуты, то она называется ассоциацией.</p>
<p align="center">
<font size=-1>
[<a href="2-1.htm">Назад</a>] [<a href="index.htm">Содержание</a>] [<a href="2-3.htm">Вперед</a>]
</font>
</p>
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/footer0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>