<!doctype html public "-//W3C//DTD HTML 3.2//RU">
<html>
<head>
   <title>Классификация сущностей</title>
   
   
   
   
   
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/header0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="_pic_/logo.gif" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>
<h4>2.3. Классификация сущностей</h4>
<p align="justify">Настал момент разобраться в терминологии. К.Дейт [<a href="literatu.htm#3">3</a>] определяет три основные класса сущностей: <a name="sterzh"></a><i>стержневые</i>, <a name="assoc"></a><i>ассоциативные</i> и <a name="char"></a><i>характеристические</i>, а также подкласс ассоциативных сущностей – <a name="diff"></a><i>обозначения</i>.</p>
<p align="justify"><i>Стержневая сущность</i> (<i>стержень</i>) – это независимая сущность (несколько подробнее она будет определена ниже).</p>
<p align="justify">В рассмотренных ранее примерах стержни – это "Студент", "Квартира", "Мужчины", "Врач", "Брак" (из <a href="2-2.htm#ex2-2">примера 2.2</a>) и другие, названия которых помещены в прямоугольники.</p>
<p align="justify"><i>Ассоциативная сущность</i> (<i>ассоциация</i>) – это связь вида "многие-ко-многим" ("-ко-многим" и т.д.) между двумя или более сущностями или экземплярами сущности (как в <a href="2-2.htm#ex2-4">примере 2.4</a>). Ассоциации рассматриваются как полноправные сущности:</p>
<p align="justify">они могут участвовать в других ассоциациях и обозначениях точно так же, как стержневые сущности;</p>
<p align="justify">могут обладать свойствами, т.е. иметь не только набор ключевых атрибутов, необходимых для указания связей, но и любое число других атрибутов, характеризующих связь. Например, ассоциации "Брак" из примеров <a href="2-2.htm#ex2-1">2.1</a> и <a href="2-2.htm#ex2-4">2.4</a> содержат ключевые атрибуты "Код_М", "Код_Ж" и "Табельный номер мужа", "Табельный номер жены", а также уточняющие атрибуты "Номер свидетельства", "Дата регистрации", "Место_регистрации", "Номер записи в книгу ЗАГС" и т.д.</p>
<p align="justify"><i>Характеристическая сущность</i> (<i>характеристика</i>) – это связь вида "многие-к-одной" или "одна-к-одной" между двумя сущностями (частный случай ассоциации). Единственная цель характеристики в рамках рассматриваемой предметной области состоит в описании или уточнении некоторой другой сущности. Необходимость в них возникает в связи с тем, что сущности реального мира имеют иногда многозначные свойства. Муж может иметь несколько жен (пример 2.3), книга – несколько характеристик переиздания (исправленное, дополненное, переработанное, ...) и т.д.</p>
<p align="justify">Существование характеристики полностью зависит от характеризуемой сущности: женщины лишаются статуса жен, если умирает их муж.</p>
<p align="justify">Для описания характеристики используется новое предложение ЯИМ, имеющее в общем случае вид:</p>
<pre>
ХАРАКТЕРИСТИКА (атрибут 1, атрибут 2, ...)
               {СПИСОК ХАРАКТЕРИЗУЕМЫХ СУЩНОСТЕЙ}.
</pre>
<p align="justify">Расширим также язык ER-диаграмм, введя для изображения характеристики трапецию (рис. 2.2).</p>
<a name="pic2-2"></a>
<p align="center"><img src="_pic_/pic2-2.gif" width=269 height=74 border=0></p>
<p align="center"><i>Рис. 2.2. Элементы расширенного языка ER-диаграмм</i></p>
<p align="justify"><i>Обозначающая сущность</i> или <i>обозначение</i> – это связь вида "многие-к-одной" или "одна-к-одной" между двумя сущностями и отличается от характеристики тем, что не зависит от обозначаемой сущности.</p>
<p align="justify">Рассмотрим пример, связанный с зачислением сотрудников в различные отделы организации.</p>
<p align="justify">При отсутствии жестких правил (сотрудник может одновременно зачисляться в несколько отделов или не зачисляться ни в один отдел) необходимо создать описание с ассоциацией Зачисление:</p>
<pre>
Отделы (Номер отдела, Название отдела, ...)
Служащие (Табельный номер, Фамилия, ...)
Зачисление [Отделы M, Служащие N]
           (Номер отдела, Табельный номер, Дата зачисления).
</pre>
<p align="justify">Однако, при условии, что каждый из сотрудников должен быть обязательно зачислен в один из отделов, можно создать описание с обозначением Служащие:</p>
<pre>
Отделы (Номер отдела, Название отдела, ...)
Служащие (Табельный номер, Фамилия, ... , Номер отдела,
          Дата зачисления)[Отделы]
</pre>
<p align="justify">В данном примере служащие имеют независимое существование (если удаляется отдел, то из этого не следует, что также должны быть удалены служащие такого отдела). Поэтому они не могут быть характеристиками отделов и названы обозначениями.</p>
<p align="justify">Обозначения используют для хранения повторяющихся значений больших текстовых атрибутов: "кодификаторы" изучаемых студентами дисциплин, наименований организаций и их отделов, перечней товаров и т.п.</p>
<p align="justify">Описание обозначения внешне отличается от описания характеристики только тем, что обозначаемые сущности заключается не в фигурные скобки, а в квадратные:</p>
<pre>
ОБОЗНАЧЕНИЕ (атрибут 1, атрибут 2, ...)[СПИСОК
             ОБОЗНАЧАЕМЫХ СУЩНОСТЕЙ].
</pre>
<p align="justify">Как правило, обозначения не рассматриваются как полноправные сущности, хотя это не привело бы к какой-либо ошибке.</p>
<p align="justify">Обозначения и характеристики не являются полностью независимыми сущностями, поскольку они предполагают наличие некоторой другой сущности, которая будет "обозначаться" или "характеризоваться". Однако они все же представляют собой частные случаи сущности и могут, конечно, иметь свойства, могут участвовать в ассоциациях, обозначениях и иметь свои собственные (более низкого уровня) характеристики. Подчеркнем также, что все экземпляры характеристики должны быть обязательно связаны с каким-либо экземпляром характеризуемой сущности. Однако допускается, чтобы некоторые экземпляры характеризуемой сущности не имели связей. Правда, если это касается браков, то сущность "Мужья" должна быть заменена на сущность "Мужчины" (нет мужа без жены).</p>
<p align="justify">Переопределим теперь стержневую сущность как сущность, которая не является ни ассоциацией, ни обозначением, ни характеристикой. Такие сущности имеют независимое существование, хотя они и могут обозначать другие сущности, как, например, сотрудники обозначают отделы.</p>
<p align="justify">В заключение рассмотрим пример построения инфологической модели базы данных "Питание", где должна храниться информация о блюдах (рис. 2.3), их ежедневном потреблении, продуктах, из которых приготавливаются эти блюда, и поставщиках этих продуктов. Информация будет использоваться поваром и руководителем небольшого предприятия общественного питания, а также его посетителями.</p>
<a name="pic2-3"></a>
<table cellpadding=5 border=0 bgcolor="#E0E0E0">
<tr><td>
1. Лобио по грузински<br>
Ломаную очищенную фасоль, нашинкованный лук посолить, посыпать перцем и припустить в масле с небольшим количеством бульона; добавить кинзу, зелень петрушки, рейган (базилик) и довести до готовности. Затем запечь в духовке.<br>
Фасоль стручковая (свежая или консервированная) 200,<br>
Лук зеленый 40, Масло сливочное 30, Зелень 10.<br>
Выход 210.	Калорий 725.<br>
</td></tr>
</table>
<p align="center"><i>Рис. 2.3. Пример кулинарного рецепта</i></p>
<p align="justify">С помощью указанных пользователей выделены следующие объекты и характеристики проектируемой базы:</p>
<p align="justify"><ol>
<li>Блюда, для описания которых нужны данные, входящие в их кулинарные рецепты: номер блюда (например, из книги кулинарных рецептов), название блюда, вид блюда (закуска, суп, горячее и т.п.), рецепт (технология приготовления блюда), выход (вес порции), название, калорийность и вес каждого продукта, входящего в блюдо.
<li>Для каждого поставщика продуктов: наименование, адрес, название поставляемого продукта, дата поставки и цена на момент поставки.
<li>Ежедневное потребление блюд (расход): блюдо, количество порций, дата.
</ol></p>
<p align="justify">Анализ объектов позволяет выделить:
<ul>
<li>стержни Блюда, Продукты и Города;
<li>ассоциации Состав (связывает Блюда с Продуктами) и
</ul>
Поставки (связывает Поставщиков с Продуктами);
<ul>
<li>обозначение Поставщики;
<li>характеристики Рецепты и Расход.
</ul></p>
<p align="justify">ER-диаграмма модели показана на рис. 2.4. а модель на языке ЯИМ имеет следующий вид:</p>
<pre>
Блюда (БЛ, Блюдо, Вид)
Продукты (ПР, Продукт, Калорийность)
Поставщики (ПОС, Город, Поставщик) [Город]
Состав [Блюда M, Продукты N] (БЛ, ПР, Вес (г))
Поставки [Поставщики M, Продукты N] (ПОС, ПР, Дата_П, Цена, Вес (кг))
Города (Город, Страна) 
Рецепты (БЛ, Рецепт) {Блюда}
Расход (БЛ, Дата_Р, Порций) {Блюда}
</pre>
<p align="justify">В этих моделях Блюдо, Продукт и Поставщик – наименования, а БЛ, ПР и ПОС – цифровые коды блюд, продуктов и организаций, поставляющих эти продукты.</p>
<a name="pic2-4"></a>
<p align="center"><img src="_pic_/pic2-4.gif" width=300 height=210 border=0></p>
<p align="center"><i>Рис. 2.4. Инфологическая модель базы данных "Питание"</i></p>
<p align="center">
<font size=-1>
[<a href="2-2.htm">Назад</a>] [<a href="index.htm">Содержание</a>] [<a href="2-4.htm">Вперед</a>]
</font>
</p>
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/footer0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>